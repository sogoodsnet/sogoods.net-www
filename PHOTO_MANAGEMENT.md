# sogoods.net 写真管理システム

## 概要
サーバー上で写真を個別にアップロード・管理できるシステムです。写真を追加・削除すると自動的にWebサイトに反映されます。

## 📸 写真管理の方法

### 1. Web管理画面を使用 (推奨)
**アクセス:** `https://sogoods.net/photo-admin.php`
- **パスワード:** `sogoods2024`
- **機能:**
  - 写真アップロード (メイン/ギャラリー)
  - 写真削除
  - 写真リスト表示
  - 自動リスト更新

### 2. FTP/SSH直接アップロード
**アップロード先:**
- **メイン画像:** `/home/sogoodsnet/www/photos/main/`
- **ギャラリー画像:** `/home/sogoodsnet/www/photos/gallery/`

**アップロード後の手順:**
```bash
# サーバーにSSH接続後
cd /home/sogoodsnet/www
php update-photo-list.php
```

または、ブラウザで以下にアクセス:
```
https://sogoods.net/update-photo-list.php
```

## 🔄 自動更新システム

### 写真リスト自動生成
- `photos/photo-list.js` が自動生成されます
- Webサイトは5分ごとにリストをチェック
- 新しい写真が追加されると自動的に表示に反映

### 対応画像形式
- JPEG (.jpg, .jpeg)
- PNG (.png)  
- GIF (.gif)
- WebP (.webp)
- 最大ファイルサイズ: 10MB

## 📁 ディレクトリ構造
```
www/
├── photos/
│   ├── main/           # メイン画像（30秒ごとに表示）
│   ├── gallery/        # ギャラリー画像（今は未使用）
│   └── photo-list.js   # 自動生成される写真リスト
├── photo-admin.php     # Web管理画面
├── update-photo-list.php # 写真リスト更新スクリプト
└── .htaccess          # 設定ファイル
```

## 🔧 技術詳細

### 写真表示システム
1. `MainImageSystem` クラスが写真を管理
2. 30秒ごとにランダムな写真を表示
3. 5分ごとに写真リストを自動チェック
4. 新しい写真があると自動的に表示候補に追加

### セキュリティ
- 管理画面はパスワード保護
- アップロード可能ファイル形式制限
- ファイルサイズ制限 (10MB)
- 安全なファイル名自動生成

## 🚀 使用例

### 新しい写真を追加
1. `https://sogoods.net/photo-admin.php` にアクセス
2. パスワード `sogoods2024` でログイン
3. 「メイン画像」を選択して写真をアップロード
4. 自動的に `photo-list.js` が更新される
5. 最大5分以内にWebサイトに新しい写真が表示される

### 写真を削除
1. 管理画面で削除したい写真の「削除」ボタンをクリック
2. 自動的に `photo-list.js` が更新される
3. Webサイトから写真が除外される

## 🛠️ トラブルシューティング

### 写真が表示されない場合
1. `https://sogoods.net/update-photo-list.php` にアクセスして手動更新
2. ブラウザのキャッシュをクリア
3. 写真ファイルの形式・サイズを確認

### 管理画面にアクセスできない場合
- PHP が正常に動作しているか確認
- .htaccess の設定を確認
- ファイルの権限を確認 (644)

## 📞 サポート
問題がある場合は、サーバーログをチェックするか、システム管理者に連絡してください。